"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[6881],{1460(e,i,n){n.r(i),n.d(i,{assets:()=>o,contentTitle:()=>d,default:()=>a,frontMatter:()=>s,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"dev-guide/code-structure","title":"Code Structure","description":"This page explains the high-level structure of the FolderFlow codebase.","source":"@site/versioned_docs/version-0.2.0/dev-guide/code-structure.md","sourceDirName":"dev-guide","slug":"/dev-guide/code-structure","permalink":"/FolderFlow/0.2.0/dev-guide/code-structure","draft":false,"unlisted":false,"editUrl":"https://github.com/polocto/FolderFlow/tree/main/docs/versioned_docs/version-0.2.0/dev-guide/code-structure.md","tags":[],"version":"0.2.0","sidebarPosition":2,"frontMatter":{"title":"Code Structure","sidebar_position":2},"sidebar":"developperSideBar","previous":{"title":"Introduction","permalink":"/FolderFlow/0.2.0/dev-guide/"},"next":{"title":"Setup","permalink":"/FolderFlow/0.2.0/dev-guide/setup"}}');var t=n(4848),l=n(8453);const s={title:"Code Structure",sidebar_position:2},d="Code Structure",o={},c=[{value:"Top-level layout",id:"top-level-layout",level:2},{value:"<code>cmd/ff</code>",id:"cmdff",level:3},{value:"<code>pkg/ffplugin/filter</code>",id:"pkgffpluginfilter",level:3},{value:"<code>pkg/ffplugin/strategy</code>",id:"pkgffpluginstrategy",level:3},{value:"Registries",id:"registries",level:2},{value:"Design philosophy",id:"design-philosophy",level:2}];function u(e){const i={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.header,{children:(0,t.jsx)(i.h1,{id:"code-structure",children:"Code Structure"})}),"\n",(0,t.jsx)(i.p,{children:"This page explains the high-level structure of the FolderFlow codebase."}),"\n",(0,t.jsx)(i.hr,{}),"\n",(0,t.jsx)(i.h2,{id:"top-level-layout",children:"Top-level layout"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-text",children:"cmd/\n  ff/            # CLI entry point\npkg/\n  ffplugin/\n    filter/          # Filter plugins API and registry\n    strategy/        # Strategy plugins API and registry\ninternal/        # Core engine logic\ndocs/            # Documentation (Docusaurus)\n"})}),"\n",(0,t.jsx)(i.h3,{id:"cmdff",children:(0,t.jsx)(i.code,{children:"cmd/ff"})}),"\n",(0,t.jsx)(i.p,{children:"Contains:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"CLI parsing"}),"\n",(0,t.jsx)(i.li,{children:"Configuration loading"}),"\n",(0,t.jsx)(i.li,{children:"Application bootstrap"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"This layer should remain thin."}),"\n",(0,t.jsx)(i.h3,{id:"pkgffpluginfilter",children:(0,t.jsx)(i.code,{children:"pkg/ffplugin/filter"})}),"\n",(0,t.jsx)(i.p,{children:"Contains:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Filter interface"}),"\n",(0,t.jsx)(i.li,{children:"Built-in filters"}),"\n",(0,t.jsx)(i.li,{children:"Filter registry"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Filters are:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Pure"}),"\n",(0,t.jsx)(i.li,{children:"Stateless after configuration"}),"\n",(0,t.jsx)(i.li,{children:"Non-destructive"}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"pkgffpluginstrategy",children:(0,t.jsx)(i.code,{children:"pkg/ffplugin/strategy"})}),"\n",(0,t.jsx)(i.p,{children:"Contains:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Strategy interface"}),"\n",(0,t.jsx)(i.li,{children:"Built-in strategies"}),"\n",(0,t.jsx)(i.li,{children:"Strategy registry"}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Strategies:\nCompute destination paths"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Never touch the filesystem"}),"\n",(0,t.jsx)(i.li,{children:"Enforce path safety"}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"registries",children:"Registries"}),"\n",(0,t.jsx)(i.p,{children:"Filters and strategies are registered using explicit registration functions."}),"\n",(0,t.jsx)(i.p,{children:"This design:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Avoids reflection"}),"\n",(0,t.jsx)(i.li,{children:"Enables compile-time safety"}),"\n",(0,t.jsx)(i.li,{children:"Makes plugins explicit and testable"}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"design-philosophy",children:"Design philosophy"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Clear separation of concerns"}),"\n",(0,t.jsx)(i.li,{children:"Deterministic behavior"}),"\n",(0,t.jsx)(i.li,{children:"Defensive path handling"}),"\n",(0,t.jsx)(i.li,{children:"Explicit errors over silent failure"}),"\n"]})]})}function a(e={}){const{wrapper:i}={...(0,l.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},8453(e,i,n){n.d(i,{R:()=>s,x:()=>d});var r=n(6540);const t={},l=r.createContext(t);function s(e){const i=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function d(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),r.createElement(l.Provider,{value:i},e.children)}}}]);